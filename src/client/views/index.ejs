<%- include('layout',
	{
	body:
	`
	<div
	class="posts-list">
	<h1>
		<%= locals.postType
			?
			(locals.postType==='url'
			? 'URLs'
			: 'Questions'
			)
			: 'Recent Posts'
			%>
	</h1>

	<ol>
		<% posts.forEach((post,
		   index)=> { %>
			<li class="post-item">
				<div>
					<% if
					   (locals.user)
					   {
					   %>
						<span class="upvote"
							  onclick="vote('post', <%= post.id %>)">â–²</span>
						<% }
						   %>
							<span class="post-title">
								<% if
								   (post.url)
								   {
								   %>
									<a href="<%= post.url %>"
									   target="_blank">
										<%= post.title
											%>
									</a>
									<span class="post-url">(<%= new
											URL(post.url).hostname
											%>)</span>
									<% }
									   else
									   {
									   %>
										<a href="/post/<%= post.id %>">
											<%= post.title
												%>
										</a>
										<% }
										   %>
							</span>
				</div>
				<div class="post-meta">
					<span id="post-score-<%= post.id %>">
						<%= post.score
							%>
					</span> points by
					<%= post.username
						%>
						<%= new
							Date(post.created_at).toLocaleString()
							%> |
							<a href="/post/<%= post.id %>">
								<%= post.comments_count
									||
									0
									%> comments
							</a>
							<% if
							   (locals.user
							   &&
							   locals.user.id===post.user_id)
							   {
							   %>
								| <a href="#"
								   onclick="event.preventDefault(); if(confirm('Are you sure you want to delete this post?')) { 
								document.getElementById('delete-form-<%= post.id %>').submit(); 
							}">delete</a>
								<form id="delete-form-<%= post.id %>"
									  action="/post/<%= post.id %>/delete"
									  method="post"
									  style="display: none;"></form>
								<% }
								   %>
				</div>
			</li>
			<% })
			   %>
	</ol>

	<% if
	   (posts.length===0)
	   {
	   %>
		<p>No posts found.</p>
		<% }
		   %>
			</div>
			`) %>